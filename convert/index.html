<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Convert - Devkitty</title>
  <meta name="description"
    content="Devkitty is a lightweight JavaScript-based icon and asset API. Load SVG icons securely using the custom GGDK format without exposing raw SVG markup. Fast, clean, and developer-friendly.">
  <meta name="keywords"
    content="SVG icons, JavaScript icon API, icon system, web icons, frontend assets, Devkitty, GGDK format, GGDK, Devkitty, Developer, icons, SVG">
  <meta name="author" content="Devkitty">
  <link rel="canonical" href="https://devkitty.co.uk/">
  <link rel="icon" href="../images/light/Logo.svg">
  <link rel="icon" href="../images/light/Logo.svg" media="(prefers-color-scheme: light)">
  <link rel="icon" href="../images/dark/Logo.svg" media="(prefers-color-scheme: dark)">
  <link rel="stylesheet" href="../styles/index.css">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://devkitty.com/">
  <meta property="og:title" content="Devkitty">
  <meta property="og:description"
    content="A lightweight SVG icon system powered by the Javascript. Secure, fast, and built for modern frontend development.">
  <meta property="og:image" content="https://cdn.jsdelivr.net/gh/DevKittyJS/devkittyjs.github.io/images/socpre.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Devkitty">
  <meta name="twitter:description"
    content="Load SVG icons securely using Devkitty's custom GGDK format. Fast and developer-first.">
  <meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/DevKittyJS/devkittyjs.github.io/images/socpre.png">
  <meta name="robots" content="index, follow">

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    main {
      max-width: 900px;
      min-height: 700px;
      margin: 0 auto;
      padding: 40px 20px 80px;
    }

    .panel {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 24px;
    }

    h1 {
      margin-top: 0;
      color: var(--accent);
    }

    h2 {
      margin-top: 0;
      font-size: 20px;
    }

    label {
      display: block;
      margin: 12px 0;
      font-size: 14px;
      color: var(--muted);
    }

    input[type="file"] {
      margin-top: 8px;
      font-size: 14px;
      color: var(--muted);
    }

    /* Style the actual file button */
    input[type="file"]::file-selector-button {
      padding: 12px 18px;
      border-radius: 12px;
      border: none;
      background: var(--accent);
      color: white;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: 0.2s ease;
    }

    button {
      padding: 12px 18px;
      border-radius: 12px;
      border: none;
      background: var(--accent);
      color: white;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
    }

    button.secondary {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text);
    }

    button+button {
      margin-left: 12px;
    }

    pre,
    textarea {
      width: 100%;
      background: var(--code);
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      font-size: 13px;
      line-height: 1.6;
    }

    textarea {
      min-height: 320px;
      resize: vertical;
    }

    .hidden {
      display: none;
    }
  </style>
  <link rel="stylesheet" href="../styles/index.css">
</head>

<body>
  <header class="header">
    <div class="logo"><dk-el icon="Devkitty" size="45" color="#ff5c93"></dk-el>DevKitty</div>
    <div class="nav-wrapper">
      <div class="nav-container">
        <nav class="navigation">
          <ul>
            <li><a href="../">Home</a></li>
            <li><a href="../#about">About</a></li>
            <li><a href="../documentation/">Documentation</a></li>
            <li><a href="../convert/">Converter</a></li>
            <li style="display: none;"><a href="#">Icons</a></li>
          </ul>
        </nav>
        <div class="sign-in"> <button>Donate</button> </div>
      </div>
    </div>
  </header>
  <main>

    <h1>SVG â†’ GGDK Converter</h1>

    <!-- STEP 1 -->
    <div class="panel" id="step1">
      <h2>1. Select SVG files</h2>
      <input type="file" id="files" multiple accept=".svg">
    </div>

    <!-- STEP 2 -->
    <div class="panel hidden" id="step2">
      <h2>2. Output options</h2>

      <label>
        <input type="checkbox" id="minify">
        Minify GGDK output
      </label>

      <label>
        <input type="checkbox" id="review" checked>
        Review GGDK before export
      </label>

      <button id="begin">Begin Conversion</button>
    </div>

    <!-- STEP 3 -->
    <div class="panel hidden" id="step3">
      <h2>3. Review & Edit GGDK</h2>
      <p style="color:var(--muted)">
        You can edit the GGDK before exporting.
      </p>
      <textarea id="editor"></textarea>
      <div style="margin-top:16px">
        <button id="export">Export GGDK</button>
        <button class="secondary" id="back">Back</button>
      </div>
    </div>

  </main>
  <footer>
    <div class="container">
      <div class="sec about">
        <h2>About Us</h2>
        <p>Devkitty is a lightweight JavaScript icon system designed to keep your markup clean and your projects
          fast. Instead of injecting raw SVG...</p>
        <ul class="sci">
          <li><a href="https://github.com/DevKittyJS/" target="_blank"><dk-el icon="github" size="25"
                color="#0f1220"></dk-el></a></li>
          <li><a href="https://facebook.com" target="_blank"><dk-el icon="facebook-f" size="25"
                color="#0f1220"></dk-el></a></li>
          <li><a href="https://x.com" target="_blank"><dk-el icon="twitter-x" size="25" color="#0f1220"></dk-el></a>
          </li>
          <li><a href="https://instagram.com" target="_blank"><dk-el icon="instagram" size="25"
                color="#0f1220"></dk-el></a></li>
          <li><a href="https://youtube.com" target="_blank"><dk-el icon="youtube" size="25" color="#0f1220"></dk-el></a>
          </li>
        </ul>
      </div>
      <div class="sec quicklinks">
        <h2>Product</h2>
        <ul>
          <li><a href="../documentation/">Documentation</a></li>
        </ul>
        <ul>
          <li><a href="../convert/">Converter</a></li>
        </ul>
        <ul>
          <li><a href="#">Donate</a></li>
        </ul>
        <ul>
          <li><a href="../news/">News</a></li>
        </ul>
      </div>
      <div class="sec quicklinks">
        <h2>Legal</h2>
        <ul>
          <li><a href="../legal/#license">License</a></li>
        </ul>
        <ul>
          <li><a href="../legal/#terms">Terms & Conditions</a></li>
        </ul>
        <ul>
          <li><a href="../legal/#privacy">Privacy Policy</a></li>
        </ul>
      </div>
      <div class="sec quicklinks">
        <h2>Resources</h2>
        <ul>
          <li><a href="https://github.com/DevKittyJS/" target="_blank">Github</a></li>
        </ul>
        <ul>
          <li><a href="../documentation/">Documentation</a></li>
        </ul>
        <ul>
          <li><a href="../convert/">Converter</a></li>
        </ul>
        <ul>
          <li style="display: none;"><a href="#">Account</a></li>
        </ul>
        <ul>
          <li style="display: none;"><a href="#">Accessibility</a></li>
        </ul>
      </div>
      <div class="sec contact">
        <h2>Contact Us</h2>
        <ul class="info">
          <li style="display: none;"> <span><dk-el icon="phone" size="20" color="#0f1220"></dk-el></span>
            <p><a href="tel:+12345678900">+1 234 567 8900</a></p>
          </li>
          <li> <span><dk-el icon="email" size="20" color="#0f1220"></dk-el></span>
            <p><a href="mailto:devkittyjs@gmail.com">devkittyjs@gmail.com</a></p>
          </li>
        </ul>
      </div>
    </div>
  </footer>
  <div class="copyrightText">
    <p>Copyright &copy;2026 Devkitty. All Rights Reserved.</p>
  </div>
  <script>
    //header scroll for pc
    const container = document.querySelector('.nav-container');

    container.addEventListener('wheel', (e) => {
      if (e.deltaY !== 0) {
        container.scrollLeft += e.deltaY;
        e.preventDefault();
      }
    });

    //dk-el color change
    (function () {
      const media = window.matchMedia('(prefers-color-scheme: dark)');

      // Sections we want to auto-theme
      const sections = [
        document.querySelector('footer'),
      ].filter(Boolean);

      function applyIconColor(isDark) {
        const color = isDark ? '#e6e8eb' : '#0f1220';

        sections.forEach(section => {
          section.querySelectorAll('dk-el').forEach(icon => {
            icon.setAttribute('color', color);
          });
        });
      }

      // Initial apply
      applyIconColor(media.matches);

      // React to system theme changes
      media.addEventListener('change', e => {
        applyIconColor(e.matches);
      });
    })();

    /* =========================
       Existing converter logic
    ========================= */
    function parseCSS(svg) {
      const map = {};
      svg.querySelectorAll("style").forEach(s => {
        s.textContent.split("}").forEach(r => {
          const [sel, body] = r.split("{");
          if (!body) return;
          const cls = sel.trim().replace(".", "");
          map[cls] = {};
          body.split(";").forEach(p => {
            const [k, v] = p.split(":").map(x => x?.trim());
            if (k && v) map[cls][k] = v;
          });
        });
      });
      return map;
    }

    function parseTransform(t) {
      const ops = [];
      const re = /(translate|scale|rotate|matrix)\(([^)]+)\)/g;
      let m;
      while ((m = re.exec(t)))
        ops.push({ type: m[1], values: m[2].split(/[\s,]+/).map(Number) });
      return ops;
    }

    function shapeToPath(n) {
      const a = k => +n.getAttribute(k) || 0;
      if (n.tagName === "rect")
        return `M${a("x")} ${a("y")}h${a("width")}v${a("height")}h${-a("width")}Z`;
      if (n.tagName === "circle")
        return `M${a("cx") - a("r")} ${a("cy")}a${a("r")} ${a("r")} 0 1 0 ${a("r") * 2} 0a${a("r")} ${a("r")} 0 1 0 ${-a("r") * 2} 0`;
      if (n.tagName === "ellipse")
        return `M${a("cx") - a("rx")} ${a("cy")}a${a("rx")} ${a("ry")} 0 1 0 ${a("rx") * 2} 0a${a("rx")} ${a("ry")} 0 1 0 ${-a("rx") * 2} 0`;
      if (n.tagName === "polygon" || n.tagName === "polyline") {
        const pts = n.getAttribute("points").trim().split(/\s+/);
        let d = "M" + pts[0];
        for (let i = 1; i < pts.length; i++) d += "L" + pts[i];
        if (n.tagName === "polygon") d += "Z";
        return d;
      }
    }

    function walk(node, state, inst, css) {
      let s = { ...state };

      if (node.hasAttribute?.("class"))
        node.getAttribute("class").split(" ").forEach(c => css[c] && Object.assign(s, css[c]));

      ["fill", "stroke", "opacity", "stroke-width", "stroke-linecap", "stroke-linejoin", "fill-rule"]
        .forEach(k => node.hasAttribute?.(k) && (s[k] = node.getAttribute(k)));

      if (node.hasAttribute?.("style"))
        node.getAttribute("style").split(";").forEach(r => {
          const [k, v] = r.split(":").map(x => x?.trim());
          if (k && v) s[k] = v;
        });

      if (node.hasAttribute?.("transform"))
        s.transforms = [...(s.transforms || []), ...parseTransform(node.getAttribute("transform"))];

      const d = node.tagName === "path" ? node.getAttribute("d") : shapeToPath(node);

      if (d) {
        if (s.transforms?.length) inst.push({ op: "save" });
        s.transforms?.forEach(t => inst.push({ op: "transform", ...t }));

        inst.push({
          op: "path",
          d,
          color: s.fill,
          opacity: s.opacity ? parseFloat(s.opacity) : 1,
          rule: s["fill-rule"] || "nonzero"
        });

        if (s.stroke && s.stroke !== "none")
          inst.push({
            op: "stroke",
            color: s.stroke,
            width: +s["stroke-width"] || 1,
            cap: s["stroke-linecap"] || "butt",
            join: s["stroke-linejoin"] || "miter",
            opacity: s.opacity ? parseFloat(s.opacity) : 1
          });

        if (s.transforms?.length) inst.push({ op: "restore" });
      }

      node.childNodes.forEach(n => n.nodeType === 1 && walk(n, s, inst, css));
    }

    /* =========================
       UI Logic
    ========================= */
    const filesInput = document.getElementById("files");
    const step2 = document.getElementById("step2");
    const step3 = document.getElementById("step3");
    const editor = document.getElementById("editor");

    let generatedGGDK = "";

    filesInput.addEventListener("change", () => {
      if (filesInput.files.length) step2.classList.remove("hidden");
    });

    document.getElementById("begin").onclick = async () => {
      const minify = document.getElementById("minify").checked;
      const review = document.getElementById("review").checked;
      const files = filesInput.files;

      const icons = [];

      for (const f of files) {
        const text = await f.text();
        const svg = new DOMParser().parseFromString(text, "image/svg+xml").querySelector("svg");
        const css = parseCSS(svg);
        const inst = [];
        walk(svg, {}, inst, css);

        icons.push({
          name: f.name.replace(".svg", ""),
          viewBox: svg.getAttribute("viewBox") ||
            `0 0 ${svg.getAttribute("width")} ${svg.getAttribute("height")}`,
          instructions: inst
        });
      }

      let out = `@meta
format=devkitty
version=2.1
type=graphic
mode=package
iconCount=${icons.length}

@icons
`;

      icons.forEach(i => {
        out += minify ? JSON.stringify(i) + "\n" : JSON.stringify(i, null, 2) + "\n\n";
      });

      generatedGGDK = out;

      if (review) {
        editor.value = out;
        step3.classList.remove("hidden");
      } else {
        download(out);
      }
    };

    document.getElementById("export").onclick = () => {
      download(editor.value);
    };

    document.getElementById("back").onclick = () => {
      step3.classList.add("hidden");
    };

    function download(text) {
      const a = document.createElement("a");
      a.href = URL.createObjectURL(new Blob([text], { type: "text/plain" }));
      a.download = "icons.ggdk";
      a.click();
    }
  </script>
  <script src="https://cdn.jsdelivr.net/gh/DevKittyJS/devkittyjs.github.io/public/dist/devkitty.min.js"
    ggdk="https://cdn.jsdelivr.net/gh/DevKittyJS/devkittyjs.github.io@main/GGDK/icons.ggdk"></script>

</body>

</html>