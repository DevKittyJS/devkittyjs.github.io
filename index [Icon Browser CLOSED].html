<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>DevKitty Browser</title>
    <link rel="stylesheet" href="styles/index.css">
</head>

<body>

    <!-- Warning banner -->
    <div id="warning-banner">
        ⚠️ DevKitty is in Early Access and may contain bugs. (Icon & Loading Spinner packs are also not finalized)
    </div>

    <header>
        <div class="header-left">
            <h1 class="logo">
                <img src="images/light/Logo.svg" alt="Confused Kitty"></img>
                DevKitty
            </h1>

            <nav>
                <button data-tab="icons" class="active">Icons</button>
                <button data-tab="loaders">Loading Screens</button>
            </nav>
        </div>

        <div id="import-snippet">
            Add DevKitty to your site:
            <input type="text" readonly
                value='<script src="https://cdn.jsdelivr.net/gh/DevKittyJS/API/dk-api-v0.2.1.min.js"></script>'>
            <button id="copy-snippet">Copy</button>
        </div>
    </header>

    <div id="api-error" class="e-container">
        <div class="image-section">
            <img src="images/light/ConfusedKitty.svg" alt="Confused Kitty">
        </div>
        <div class="text-section">
            <h1>M-MEOW?!</h1>
            <p>
                The kitty pulled too many requests.<br>
                API limit exceeded — try again once the yarn ball resets.
            </p>

            <a href="./" class="home-btn">Reload?</a>
        </div>
    </div>

    <main>
        <section id="icons" class="grid active"></section>
        <section id="loaders" class="grid"></section>
    </main>

    <!-- Modal -->
    <div id="modal" hidden>
        <div class="modal-card">
            <div id="modal-preview"></div>
            <code id="modal-code"></code>
            <button id="copy">Copy</button>
            <button id="close">Close</button>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script>
        // Copy import snippet to clipboard
        const copyBtn1 = document.getElementById("copy-snippet");
        const input = document.querySelector("#import-snippet input"); // directly target input

        copyBtn1.addEventListener("click", () => {
            input.select();
            input.setSelectionRange(0, 99999); // for mobile
            navigator.clipboard.writeText(input.value)  // modern clipboard API
                .then(() => {
                    copyBtn1.textContent = "Copied!";
                    setTimeout(() => copyBtn1.textContent = "Copy", 1500);
                })
                .catch(err => {
                    console.error("Failed to copy:", err);
                });
        });
    </script>
</body>

</html>